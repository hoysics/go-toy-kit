# 并发队列

## 功能需求

### 容量

1. 用户可管理容量
2. 扩容/缩容

### 阻塞

1. 没有元素时阻塞读，队列满时阻塞写
2. 控制等待超时
3. 扩容/缩容时保持一样的阻塞机制

## 非功能需求

### 性能问题

### 公平性

## 时序图分析

### 不适用sync.Cond的原因

- 没有控制超时的调用

### 不能仅依赖带缓冲的chan的原因

## TODO

1. 支持一个类似于sync.Cond.Wait(timeout)的调用
2. 按需扩容&缩容
3. 查看队首和队尾
4. CAS操作实现无锁的并发队列